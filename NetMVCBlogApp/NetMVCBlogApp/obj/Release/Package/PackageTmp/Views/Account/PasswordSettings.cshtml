@*@model NetMVCBlogApp.Models.PasswordModel*@
@{
    ViewBag.Title = "PasswordSettings";
    Layout = "~/Views/Shared/admin.cshtml";
}


@using (Html.BeginForm())
{

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="header">
                        <h4 class="title">Edit Login Password</h4>
                    </div>
                    <div class="content">

                        <div class="row">
                            <div class="col-md-3">
                                <div class="form-group">
                                    @Html.Label("LastPassword", "Last Password")
                                    @Html.TextBox("LastPassword", null, new { @class = "form-control", @type = "password" })
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    @Html.Label("NewPassword", "New Password")
                                    @Html.TextBox("NewPassword", null, new { @class = "form-control", @type = "password" })
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="form-group">
                                    @Html.Label("ConfirmPassword", "Confirm Password")
                                    @Html.TextBox("ConfirmPassword", null, new { @class = "form-control", @type = "password" })
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div style="margin-right:10px">
                                <button type="submit" class="btn btn-info btn-fill pull-right" id="send">Update Password</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
}

<script>
    $(document).ready(function () {

        $("#send").click(function (e) {

            e.preventDefault();

            $.ajax({
                url: '/Account/PasswordSettings/',
                data: {
                    NewPassword: $("#NewPassword").val(),
                    LastPassword: $("#LastPassword").val(),
                    ConfirmPassword: $("#ConfirmPassword").val()
                },
                type: 'POST',
                success: function (data) {

                    if (data == 'failed')
                        alert('Invalid  password!');
                    else
                        alert('hehe! okey')
                }
            });
        });

    });
</script>
